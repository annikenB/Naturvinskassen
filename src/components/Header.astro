---
import { Image } from "astro:assets";
import Button from "../components/Button.astro";
import login from "../assets/images/login.webp";
import loginHover from "../assets/images/loginred.webp";
import cart from "../assets/images/cart.webp";
import cartHover from "../assets/images/cartred.webp";
import pil from "../assets/images/v.webp";
import pilhover from "../assets/images/vhover.webp";
---

<div class="z-50 bg-gray-100 z-9">
  <div class="flex justify-between items-center p-2 ml-3">
    <a href="/" class="text-lg font-bold">
      <h4 class="text-lilla-950 hover:text-roed-600">Naturvinskassen</h4></a
    >

    <button
      id="hamburgerButton"
      class="block md:hidden text-gray-500 hover:text-gray-700 focus:outline-none"
    >
      <svg
        class="w-6 h-6"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>

    <div class="space-x-8 flex items-center hidden md:flex">
      <div class="max-w-xl mx-auto">
        <a href="/bestil"><Button variant="primary">Find din kasse!</Button></a>
      </div>

      <div class="relative">
        <div class="flex">
          <button
            id="naturvinskassenDropdown"
            class="flex items-center gap-2 group"
          >
            <p class="text-lilla-950 group-hover:text-roed-600 navigation">
              Om abonnementerne
            </p>
            <div class="relative w-6 h-6">
              <Image
                src={pil}
                alt="dropdown"
                class="absolute inset-0 max-w-5 group-hover:opacity-0 mt-1"
              />
              <Image
                src={pilhover}
                alt="dropdown hover"
                class="absolute inset-0 max-w-5 opacity-0 group-hover:opacity-100 mt-1"
              />
            </div>
          </button>
        </div>
        <div
          id="dropdownMenu"
          class="hidden absolute right-0 mt-2 w-48 bg-graa-200 rounded-lg z-40"
        >
          <ul class="py-2">
            <li>
              <a
                href="/faq"
                class="block px-4 py-2 hover:text-roed-600 navigation">FAQ</a
              >
            </li>
            <li>
              <a href="#" class="block px-4 py-2 hover:text-roed-600 navigation"
                >Strakslevering</a
              >
            </li>

            <li>
              <a href="#" class="block px-4 py-2 hover:text-roed-600 navigation"
                >Kontakt</a
              >
            </li>
            <li>
              <a href="#" class="block px-4 py-2 hover:text-roed-600 navigation"
                >Betingelser</a
              >
            </li>
          </ul>
        </div>
      </div>
      <a href="/omos" class="">
        <p class="text-lilla-950 hover:text-roed-600 navigation">
          Hvem er vi?
        </p></a
      >
      <a href="#" id="toggleLogin" class="group cursor-pointer inline-block">
        <Image
          src={login}
          alt="Login"
          class="block group-hover:hidden max-w-voresm scale-50"
        />

        <Image
          src={loginHover}
          alt="Login Hover"
          class="hidden group-hover:block max-w-voresm scale-50"
        />
      </a>

      <a
        href="/total"
        id="toggleDrawer"
        class="group cursor-pointer inline-block"
      >
        <Image
          src={cart}
          alt="Kurv"
          class="block group-hover:hidden max-w-voresm scale-50"
        />

        <Image
          src={cartHover}
          alt="Kurv Hover"
          class="hidden group-hover:block max-w-voresm scale-50"
        />
      </a>
    </div>
  </div>

  <div id="mobileMenu" class="md:hidden hidden bg-graa-200 w-full">
    <ul class="space-y-4 py-4 navigation">
      <li>
        <a href="/bestil"><Button variant="primary">Join the club!</Button></a>
      </li>
      <li>
        <a href="/omos" class="block px-4 py-2"
          ><p class="hover:text-roed-600 navigation">Hvem er vi?</p></a
        >
      </li>
      <li>
        <a href="#" id="mobileDropdownLink" class="block px-4 py-2">
          <p class="hover:text-roed-600 navigation">Om abonnementerne</p></a
        >

        <div id="mobileDropdownMenu" class="hidden bg-graa-200 rounded-lg">
          <ul class="space-y-2 py-2 text-sm">
            <li>
              <a href="#" class="block px-4 py-2 navigation">Strakslevering</a>
            </li>
            <li>
              <a href="/faq" class="block px-4 py-2 navigation">FAQ</a>
            </li>
            <li>
              <a href="#" class="block px-4 py-2 navigation">Kontakt</a>
            </li>
            <li>
              <a href="#" class="block px-4 py-2 navigation">Betingelser</a>
            </li>
            <li>
              <a href="bestil" class="block px-4 py-2 navigation"
                >Find dit abonnement</a
              >
            </li>
          </ul>
        </div>
      </li>
      <li>
        <a href="/konto" class="block px-4 py-2">
          <p class="navigation hover:text-roed-600">Login</p>
        </a>
      </li>
      <li>
        <a href="#" id="mobileToggleDrawer" class="block px-4 py-2">
          <p class="navigation hover:text-roed-600">Kurv</p></a
        >
      </li>
    </ul>
  </div>
</div>

<div
  id="drawer"
  class="fixed top-20 right-0 z-40 w-64 h-screen bg-graa-200 transform translate-x-full transition-transform duration-300 ease-in-out"
>
  <div class="p-4">
    <p class="">Kurv(0)</p>

    <button
      id="closeDrawer"
      class="text-lilla-950 bg-transparent rounded-lg text-sm p-1.5 absolute top-2.5 right-2.5"
    >
      ×
    </button>
  </div>
  <ul class="py-4 space-y-2 font-medium">
    <li>
      <a href="#" class="flex items-center p-2 rounded-lg group">
        <h4>Ser ud som at din kurv er tom...</h4>
      </a>
    </li>
    <li>
      <div class="max-w-xl">
        <a href="/bestil"
          ><Button variant="primary">Find dit abonnement</Button></a
        >
      </div>
    </li>
  </ul>
</div>

<div
  id="loginDrawer"
  class="fixed top-20 right-0 z-40 w-64 h-screen bg-graa-200 transform translate-x-full transition-transform duration-300 ease-in-out"
>
  <div class="p-4">
    <h1 class="text-xl font-bold text-center">Hej</h1>

    <form class="max-w-sm mx-auto">
      <div class="mb-5">
        <label for="email" class="block mb-2 text-sm font-medium"></label>
        <input
          type="email"
          id="email"
          class="bg-graa-100 border border-lilla-950 text-sm rounded-lg block w-full p-2.5"
          placeholder="Din email"
          required
        />
      </div>
      <div class="mb-5">
        <label for="password" class="block mb-2 text-sm font-medium"></label>
        <input
          type="password"
          id="password"
          class="bg-graa-100 border border-lilla-950 text-sm rounded-lg block w-full p-2.5"
          required
          placeholder="Adgangskode"
        />
      </div>
      <div class="flex items-start mb-5">
        <div class="flex items-center h-5">
          <input
            id="remember"
            type="checkbox"
            value=""
            class="w-4 h-4 border border-lilla-950 rounded bg-gray-50"
            required
          />
        </div>
        <label for="remember" class="ms-2 text-sm font-medium">Husk mig</label>
      </div>
      <div class="text-center">
        <a href="/konto" class="">
          <Button variant="primary">Log ind</Button>
        </a>
      </div>
    </form>
    <p>Har du glemt din adgangskode? <p class="underline">Klik her</p></p>
    <p>Har du ikke en konto? <p class="underline">Tilmeld dig her</p></p>
  </div>

  <button
    id="closeLoginDrawer"
    class="text-lilla-950 bg-transparent rounded-lg text-sm p-1.5 absolute top-2.5 right-2.5"
  >
    ×</button
  >

  <script>
    document.getElementById("hamburgerButton").addEventListener("click", () => {
      const mobileMenu = document.getElementById("mobileMenu");
      mobileMenu.classList.toggle("hidden");
    });

    document
      .getElementById("mobileDropdownLink")
      .addEventListener("click", (e) => {
        const mobileDropdownMenu =
          document.getElementById("mobileDropdownMenu");
        mobileDropdownMenu.classList.toggle("hidden");
      });

    document
      .getElementById("naturvinskassenDropdown")
      .addEventListener("click", (e) => {
        const dropdownMenu = document.getElementById("dropdownMenu");
        dropdownMenu.classList.toggle("hidden");
      });

    document.addEventListener("DOMContentLoaded", () => {
      const toggleDrawerButton = document.getElementById("toggleDrawer");
      const toggleLoginButton = document.getElementById("toggleLogin");
      const closeDrawerButton = document.getElementById("closeDrawer");
      const closeLoginButton = document.getElementById("closeLoginDrawer");
      const drawer = document.getElementById("drawer");
      const loginDrawer = document.getElementById("loginDrawer");

      toggleDrawerButton.addEventListener("click", (e) => {
        e.preventDefault();
        drawer.classList.remove("translate-x-full");
        drawer.classList.add("translate-x-0");
      });

      toggleLoginButton.addEventListener("click", () => {
        loginDrawer.classList.remove("translate-x-full");
        loginDrawer.classList.add("translate-x-0");
      });
      closeDrawerButton.addEventListener("click", () => {
        drawer.classList.add("translate-x-full");
        drawer.classList.remove("translate-x-0");
      });

      closeLoginButton.addEventListener("click", () => {
        loginDrawer.classList.add("translate-x-full");
        loginDrawer.classList.remove("translate-x-0");
      });
    });
  </script>
</div>
